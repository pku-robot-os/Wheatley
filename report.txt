聊天机器人设计文档
代超 信息科学技术学院 1400011714
庄博尔 信息科学技术学院 1600012775
卓立典 信息科学技术学院 1600012906
【项目简介】
本项目旨在设计并实现一个聊天机器人。
我们设计的机器人叫做“Wheatley”，名字取自游戏《传送门2》中的一位智能机器人。Wheatley具有较为美观的界面。它能接收用户的语音输入，并给出相应的语音输出；它可以识别用户语音中的一些特殊关键字，并执行预设的命令（例如“再见”对应关机）；用户还可以在命令行模式下与机器人进行文字聊天，并且可自行添加/删除功能。
Wheatley只支持中文的语音输入，但支持中英双语的文字输入。
Wheatley自写的代码量在2500行左右，主要使用C语言写成，也使用了一些其他语言，如Python/JavaScript/HTML等。此外，我们还借用了一些第三方库，详情见下文。
Wheatley需要在Linux/x86或Linux/x64环境下运行。

【功能介绍】
中文语音聊天：
运行./Wheatley可以启动机器人，开始聊天。首先Wheatley会打开你的火狐浏览器，新建一个标签页并连接到localhost:5000，该端口接受连接并返回一个网页。这个网页就是机器人的GUI，如图所示：[gui.png]
机器人在向你打声招呼之后，就会开始聆听用户。它会周期性地处理用户的语音输入，并作出适当的回应。用户的输入与机器人的输出均会以文字形式回显在屏幕上。

打断：
在机器人做出回答时，如果使用较高的音量对麦克风喊话，就能打断机器人。我们使用的第三方库PortAudio能够采样麦克风，并且将每次采样的数据存放在一个数组中。通过这个数组我们可以算出声音的平均音量大小，从而区分出“正常说话”与“打断”。

命令行模式：
运行./manager可以在命令行模式下与机器人交流，例如"input <text>"就能让机器人对你的text作出回答。此外，你还可以自行添加或删除功能。这里的“功能”指的是，当你的输入符合一定模式时，机器人将不再以聊天的方式回答你，而是执行你自定义的行为。例如，输入"add -s joke -p .*joke.* -c cat jokes.txt"就能添加功能"joke"，那么之后只要在输入中出现了"joke"字符串，就能与正则表达式".*joke.*"相匹配，从而让机器人执行命令"cat jokes.txt"，而不是响应聊天。

【系统设计】
####################
概括项目的总体设计思路。
####################
【文件介绍】
####################
概括每一份主要代码的作用。
####################
【第三方库】

【分工】
【搭建流程】
在Linux/x64电脑上
1. 安装PortAudio库
(1) 下载：http://www.portaudio.com/download.html；
(2) 解压；
(2) 安装：./configure && make; sudo make install；
2. 开始运行
